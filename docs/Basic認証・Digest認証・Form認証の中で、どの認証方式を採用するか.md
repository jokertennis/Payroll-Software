## 概要
Payroll-Managementマイクロサービスに実装する認証方式に関して、Basic認証・Digest認証・Form認証のどれを利用するかに関してそれぞれ長所短所を整理し、ベストな認証方式を検討する。

## 満たしたい要件
以下の条件を満たしていれば良い。
- どのユーザーがサービスを利用したいのかわかる状態にしたい。
- エンジニアリングコストは最小限にしたい。(参考資料や実装例がたくさんあるとベスト)
- セキュリティ面に関してはローカル環境では特に強さを求めないが、実際にデプロイする時のために、デプロイ時にはセキュリティを強度にできる方法がある。(例：SSL化など)

## それぞれの認証方式の認証方式の長所短所の整理
以下にそれぞれの認証方式の長所短所を整理する。
|  認証方式  |  長所  |  短所  |
| ---- | ---- | ---- |
|  Basic認証 |  ・実装例が豊富にあるため、エンジニアリングコストを最小限にできそう。<br>・SSL化すればセキュリティ面で問題なく利用可能  | ・ログアウト機能がないため、認証状態を削除する為にはブラウザを終了する必要がある。<br>・ステートレスであるため、重要な情報がネットワークに流れる回数が多くなるため、セキュリティ強度が低くなる。  |
|  Digest認証 |  ・Digest認証はサーバが生成したランダムの文字列をパスワードに付与し、IDとパスワードをMD5でハッシュ化し送信するため、盗聴されてもパスワードの解析が困難である。<br>・http環境でもセキュリティ面で問題なく利用可能 | ・ログアウト機能がないため、認証状態を削除する為にはブラウザを終了する必要がある。<br>・参考となる実装例が少ない。<br>・ステートレスであるため、重要な情報がネットワークに流れる回数が多くなるため、セキュリティ強度が低くなる。  |
|  Form認証 |  ・ログアウト機能やシングルサインオン機能など豊富な認証機能を実装可能<br>・SSL化すればセキュリティ面で問題なく利用可能<br>・ウィザード画面にも対応可能   | ・クッキーを用いたセッション管理の実装が大変そう。(予測不能なエンジニアリングコストが発生する可能性がある。) |

川田としては、Basic認証が最も良いと判断した。理由はBasic認証のメリットである、
- 実装例が豊富にあるため、エンジニアリングコストを最小限にできそう。
- SSL化すればセキュリティ面で問題なく利用可能

上記2点が満たしたい要件をよく満たす長所であるためだ。以下に短所に対する解決策を記載する。
- ログアウト機能やシングルサインオン機能といった豊富な認証機能を実装できない
→2023年2月9日地点では特に豊富な認証機能を必要としていないため、受け入れる。
- ウィザード画面に対応できない。
→2023年2月9日地点では特にウィザード画面を必要とする機能を作成予定ではないため、受け入れる。
- ステートレスであるため、重要な情報がネットワークに流れる回数が多くなるため、セキュリティ強度が低くなる。 
→セキュリティ強度が低くなる点に関しては、後々ID-Managementという認証認可を行うための新規マイクロサービスを作成予定である。その際にセキュリティ強度を高めるための認証認可の方法を再度検討する。

などの問題があるが、本サービスでは認証機能をそこまで重視していないため、特に問題ないと判断した。

## 参考文献
- [Basic認証 Digest認証 Form認証の違い](https://medium-company.com/http認証方法の種類と違い/)
- [Basic認証・Digest認証・Form認証をざっくり理解](https://qiita.com/Threen/items/409971705767e2f89fb2)
- [Basic認証とフォームによる認証についてのまとめ](https://qiita.com/toshiya/items/e7dcc7610b15884b167e)
- [How to correctly use Basic Authentication in Go](https://www.alexedwards.net/blog/basic-authentication-in-go)