## ID-Management
ID-ManagementはPayroll-Softwareの認証認可機能を保持するマイクロサービスである。本マイクロサービスの開発方針として、認証認可の機能を実装するか、AWSのBaaS(Backend as a service)を利用するか迷ったため、両者の方法のメリットとデメリットを整理する。

実現方法 | メリット | デメリット
--------|--------|-----------
BaaS | ・開発スピードの短縮化。<br>・サーバーレスであるため、サーバー関連の管理やメンテナンスが不要。<br>・サーバーとの連携部分をBaaSで対応することが可能<br>・認証に関して深く精通していなくても、高セキュリティの認証認可機能を作成できる。<br>・プログラムの実行に対する従量課金であるため、サーバの稼働に対する従量課金と比較してコストの削減になる。 | ・コールドスタートによる影響でレスポンスタイムが遅くなる(約一秒ほど遅くなる想定)<br>・ベンダーロックインの可能性がある。<br>・作成したい機能をBaasで実現不可能な場合、コストが大きくなる。<br>・サーバーの保持や管理はサービス提供事業者が行うため、サービス提供事業者に依存する(サーバーのアップデートや障害対応など)<br>・テストがしにくい(ローカルの開発環境でテストを完結させることが非常に難しい)<br>・NoSQLを利用することになるため、RDBのテーブル結合ができない。 |
機能を実装 | ・コールドスタートではないため、レスポンスタイムがBaaS(サーバーレス)と比較して速くなる。<br>・BaaSではカバーできない細かい認可認証機能を実装することが技術的に可能<br>・ベンダーロックインの心配をしないで良い<br>・テストが比較的容易になる。 | ・開発コストが大きくなる。<br>・サーバーの管理やメンテナンスなどサービスの機能開発以外の部分でコストが発生する。<br>・仮想サーバーのインスタンスを立ち上げている時間だけ課金されるため、サーバーレスよりも料金が高くなることが想定される。

川田としてはBaaSを利用してID-Managementを開発していく方が良いと考えている。理由は開発コスト・運用コストを最小限に抑えることができるためである・デメリットの対処法は以下のように考えている。  
・一秒ほどレスポンスタイムが遅くなる  
→一秒程度のレスポンスタイムの遅さは現状では許容範囲とする。  
・ベンダーロックインの可能性  
→AWSなどの信頼のあるクラウドサービスを利用する。  
・サーバーの保持や管理はサービス提供事業者が行うため、サービス提供事業者に依存する。  
→可用性を意識したインフラ設計をできる限り目指す。

## AWS技術選定
認証機能の作成には  
・lambda  
・Api gateway  
・Amplify  
・Cognito   
・DynamoDb  

RDSかDynamoDb(RDBかNoSQL)のどちらを採用するかに関して、川田としてはDynamoDbを採用する方が良いと考えた。理由は以下の内容である。
- RDSはインスタンスの起動時間の従量課金制である一方、DynamoDbは月当たりのリクエスト数やリクエストの種類などで金額が決まり、利用頻度やデータ量を考慮すると、DynamoDbの方が圧倒的に金銭的なコストを下げることができると判断したため。
- 管理するデータがユーザー情報のみであるため、複雑なクエリを必要としないことが想定され、RDBを利用するメリットが薄くなるため。

## 参考文献
・[BaaS (Backend as a Service) とは？](https://cloudnavi.nhn-techorus.com/archives/2739)  
・[サーバレスにはどんなシステムが向いているの？メリット・デメリットを解説](https://www.itechh.ne.jp/blog/column/server-less.html)  
・[CaaS、Paas、サーバーレス(FaaS,BaaS)の違い あなたはどのサービスを利用しますか](https://www.konosumi.net/entry/2018/08/03/013538)  
・[サーバーレス (FaaS) のメリット・デメリット・使いどころについて整理してみる](https://blog.mmmcorp.co.jp/blog/2020/12/25/talk_about_serverless/)  
・[サーバーレスアーキテクチャとは何か？　AWSの「Lambda」と「EC2」を比較して解説](https://www.sbbit.jp/article/cont1/32603)  
・[Lambda パフォーマンスチューニング](https://dev.classmethod.jp/articles/lambda-performance-tuning/)  
